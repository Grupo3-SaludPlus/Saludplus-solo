<main class="dashboard-container">
  <!-- Encabezado minimalista -->
  <header class="main-header">
    <h1>Perfil Médico</h1>
    <div class="header-actions">
      <button class="btn-edit" (click)="isEditMode = true" *ngIf="!isEditMode">
        <i class="far fa-edit"></i> Editar
      </button>
    </div>
  </header>

  <!-- Contenido principal -->
  <div class="content-container">
    <div class="profile-card">
      <!-- Vista de perfil -->
      <section *ngIf="!isEditMode" class="profile-view">
        <div class="profile-info-grid">
          <div class="info-item">
            <label><i class="far fa-user"></i> Nombre</label>
            <span>{{ getUserName() }}</span>
          </div>
          <div class="info-item">
            <label><i class="far fa-envelope"></i> Email</label>
            <span>{{ getUserEmail() }}</span>
          </div>
          <div class="info-item">
            <label><i class="fas fa-phone"></i> Teléfono</label>
            <span>{{ getUserPhone() }}</span>
          </div>
          <div class="info-item">
            <label><i class="far fa-calendar"></i> Fecha de Nacimiento</label>
            <span>{{ getUserBirthdate() }}</span>
          </div>
          <div class="info-item">
            <label><i class="far fa-clock"></i> Edad</label>
            <span>{{ getUserAge() }}</span>
          </div>
          <div class="info-item">
            <label><i class="fas fa-venus-mars"></i> Género</label>
            <span>{{ getGenderText(currentUser?.gender) }}</span>
          </div>
          <div class="info-item">
            <label><i class="fas fa-tint"></i> Tipo de Sangre</label>
            <span>{{ getUserBloodType() }}</span>
          </div>
          <div class="info-item">
            <label><i class="fas fa-id-card-alt"></i> Contacto de Emergencia</label>
            <span>{{ getUserEmergencyContact() }}</span>
          </div>
          <div class="info-item full-width">
            <label><i class="fas fa-exclamation-circle"></i> Alergias</label>
            <span>{{ getUserAllergies() }}</span>
          </div>
          <div class="info-item full-width">
            <label><i class="fas fa-heartbeat"></i> Condiciones Crónicas</label>
            <span>{{ getUserChronic() }}</span>
          </div>
        </div>
      </section>

      <!-- Formulario de edición -->
      <section *ngIf="isEditMode" class="profile-edit">
        <form class="edit-form" (ngSubmit)="saveProfile()">
          <div class="form-row">
            <div class="form-group">
              <label for="phone"><i class="fas fa-phone"></i> Teléfono</label>
              <input id="phone" name="phone" type="tel" [(ngModel)]="editingUser.phone">
            </div>
            <div class="form-group">
              <label for="birthdate"><i class="far fa-calendar"></i> Fecha de Nacimiento</label>
              <input id="birthdate" name="birthdate" type="date" [(ngModel)]="editingUser.birthdate">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="gender"><i class="fas fa-venus-mars"></i> Género</label>
              <select id="gender" name="gender" [(ngModel)]="editingUser.gender">
                <option value="M">Masculino</option>
                <option value="F">Femenino</option>
                <option value="O">Otro</option>
              </select>
            </div>
            <div class="form-group">
              <label for="bloodType"><i class="fas fa-tint"></i> Tipo de Sangre</label>
              <select id="bloodType" name="bloodType" [(ngModel)]="editingUser.bloodType">
                <option value="">Seleccionar</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="emergencyContact"><i class="fas fa-id-card-alt"></i> Contacto de Emergencia</label>
            <input id="emergencyContact" name="emergencyContact" type="text" [(ngModel)]="editingUser.emergencyContact">
          </div>
          
          <div class="form-group">
            <label for="allergies"><i class="fas fa-exclamation-circle"></i> Alergias</label>
            <textarea id="allergies" name="allergies" rows="2" [(ngModel)]="allergiesText"></textarea>
          </div>
          
          <div class="form-group">
            <label for="chronic"><i class="fas fa-heartbeat"></i> Condiciones Crónicas</label>
            <textarea id="chronic" name="chronic" rows="2" [(ngModel)]="chronicText"></textarea>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-primary">Guardar</button>
            <button type="button" class="btn-secondary" (click)="cancelEdit()">Cancelar</button>
          </div>
        </form>
      </section>
    </div>
  </div>
</main>